{"failedCount":1,"prefixedPath":"src\/test\/java\/karateTest.feature","packageQualifiedName":"src.test.java.karateTest","loopIndex":-1,"relativePath":"src\/test\/java\/karateTest.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":111013100,"millis":111.0131,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def baseUrl = karate.properties['baseUrl'] || 'https:\/\/petstore.swagger.io\/v2'"}},{"result":{"nanos":10455300,"millis":10.4553,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def randomId = function(){ return java.lang.System.currentTimeMillis() % 1000000 }"}},{"result":{"nanos":7768300,"millis":7.7683,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def testPetId = randomId()"}},{"result":{"nanos":5627500,"millis":5.6275,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"print 'Generated Pet ID for this test run:', testPetId"},"stepLog":"17:08:08.221 [print] Generated Pet ID for this test run: 688215.0 \n"},{"result":{"nanos":5184100,"millis":5.1841,"status":"passed"},"step":{"comments":["# 1. Add a new pet to the store"],"line":11,"prefix":"Given","index":0,"text":"url baseUrl + '\/pet'"}},{"result":{"nanos":27091100,"millis":27.0911,"status":"passed"},"step":{"endLine":37,"line":12,"prefix":"And","docString":"{\n  \"name\": \"doggie\",\n  \"photoUrls\": [\n    \"cillum deserunt irure sit\",\n    \"minim consequat\"\n  ],\n  \"id\": #(testPetId),\n  \"category\": {\n    \"id\": -71766204,\n    \"name\": \"labore enim consectetur amet velit\"\n  },\n  \"tags\": [\n    {\n      \"id\": 59431783,\n      \"name\": \"nulla exercitation\"\n    },\n    {\n      \"id\": -46476026,\n      \"name\": \"est sint tempor minim nulla\"\n    }\n  ],\n  \"status\": \"available\"\n}","index":1,"text":"request"}},{"result":{"nanos":885969400,"millis":885.9694,"status":"passed"},"step":{"line":38,"prefix":"When","index":2,"text":"method post"},"stepLog":"17:08:08.459 request:\n1 > POST https:\/\/petstore.swagger.io\/v2\/pet\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 291\n1 > Host: petstore.swagger.io\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n{\"name\":\"doggie\",\"photoUrls\":[\"cillum deserunt irure sit\",\"minim consequat\"],\"id\":688215.0,\"category\":{\"id\":-71766204,\"name\":\"labore enim consectetur amet velit\"},\"tags\":[{\"id\":59431783,\"name\":\"nulla exercitation\"},{\"id\":-46476026,\"name\":\"est sint tempor minim nulla\"}],\"status\":\"available\"}\n\n17:08:09.139 response time in milliseconds: 678\n1 < 200\n1 < Date: Thu, 26 Jun 2025 22:08:07 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Methods: GET, POST, DELETE, PUT\n1 < Access-Control-Allow-Headers: Content-Type, api_key, Authorization\n1 < Server: Jetty(9.2.9.v20150224)\n{\"id\":688215,\"category\":{\"id\":-71766204,\"name\":\"labore enim consectetur amet velit\"},\"name\":\"doggie\",\"photoUrls\":[\"cillum deserunt irure sit\",\"minim consequat\"],\"tags\":[{\"id\":59431783,\"name\":\"nulla exercitation\"},{\"id\":-46476026,\"name\":\"est sint tempor minim nulla\"}],\"status\":\"available\"}\n\n"},{"result":{"nanos":1839400,"millis":1.8394,"status":"passed"},"step":{"line":39,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":777500,"millis":0.7775,"status":"passed"},"step":{"line":40,"prefix":"*","index":4,"text":"def petId = response.id \/\/ Se toma el ID de la respuesta"}},{"result":{"nanos":798000,"millis":0.798,"status":"passed"},"step":{"line":41,"prefix":"*","index":5,"text":"print 'Pet created with ID:', petId"},"stepLog":"17:08:09.144 [print] Pet created with ID: 688215 \n"},{"result":{"nanos":1586500,"millis":1.5865,"status":"passed"},"step":{"line":42,"prefix":"*","index":6,"text":"karate.pause(15000) \/\/ Pausa de 15 segundos para dar tiempo a la API"}},{"result":{"nanos":800600,"millis":0.8006,"status":"passed"},"step":{"comments":["# 2. Get the pet by ID"],"line":45,"prefix":"Given","index":7,"text":"url baseUrl + '\/pet\/' + petId"}},{"result":{"nanos":296480100,"millis":296.4801,"status":"passed"},"step":{"line":46,"prefix":"When","index":8,"text":"method get"},"stepLog":"17:08:09.147 request:\n2 > GET https:\/\/petstore.swagger.io\/v2\/pet\/688215\n2 > Host: petstore.swagger.io\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/21.0.7)\n2 > Accept-Encoding: gzip,deflate\n\n\n17:08:09.442 response time in milliseconds: 295\n2 < 404\n2 < Date: Thu, 26 Jun 2025 22:08:07 GMT\n2 < Content-Type: application\/json\n2 < Transfer-Encoding: chunked\n2 < Connection: keep-alive\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Allow-Methods: GET, POST, DELETE, PUT\n2 < Access-Control-Allow-Headers: Content-Type, api_key, Authorization\n2 < Server: Jetty(9.2.9.v20150224)\n{\"code\":1,\"type\":\"error\",\"message\":\"Pet not found\"}\n\n"},{"result":{"nanos":60200,"errorMessage":"status code was: 404, expected: 200, response time in milliseconds: 295, url: https:\/\/petstore.swagger.io\/v2\/pet\/688215, response: \n{\"code\":1,\"type\":\"error\",\"message\":\"Pet not found\"}\nsrc\/test\/java\/karateTest.feature:47","millis":0.0602,"status":"failed"},"step":{"line":47,"prefix":"Then","index":9,"text":"status 200"},"stepLog":"17:08:09.443 src\/test\/java\/karateTest.feature:47\nThen status 200\nstatus code was: 404, expected: 200, response time in milliseconds: 295, url: https:\/\/petstore.swagger.io\/v2\/pet\/688215, response: \n{\"code\":1,\"type\":\"error\",\"message\":\"Pet not found\"}\nsrc\/test\/java\/karateTest.feature:47\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":10,"text":"match response.id == petId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":11,"text":"match response.name == \"doggie\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"*","index":12,"text":"print 'Pet retrieved by ID:', response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# 3. Update the pet's name and status"],"line":53,"prefix":"Given","index":13,"text":"url baseUrl + '\/pet'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"endLine":80,"line":54,"prefix":"And","docString":"{\n\"id\": #(petId),\n  \"name\": \"cat\",\n  \"photoUrls\": [\n    \"cillum deserunt irure sit\",\n    \"minim consequat\"\n  ],\n  \"category\": {\n    \"id\": -71766204,\n    \"name\": \"labore enim consectetur amet velit\"\n  },\n  \"tags\": [\n    {\n      \"id\": 59431783,\n      \"name\": \"nulla exercitation\"\n    },\n    {\n      \"id\": -46476026,\n      \"name\": \"est sint tempor minim nulla\"\n    }\n  ],\n  \"status\": \"sold\"\n}","index":14,"text":"request"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":81,"prefix":"When","index":15,"text":"method put"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":82,"prefix":"Then","index":16,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":83,"prefix":"*","index":17,"text":"def updatedPetId = response.id"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":84,"prefix":"And","index":18,"text":"match updatedPetId == petId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":85,"prefix":"And","index":19,"text":"match response.name == \"cat\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":86,"prefix":"And","index":20,"text":"match response.status == \"sold\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":87,"prefix":"*","index":21,"text":"print 'Pet updated:', response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":88,"prefix":"*","index":22,"text":"karate.pause(5000) \/\/ Increased pause after PUT and before findByStatus"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#  Get the pet by ID confirmar vendido"],"line":91,"prefix":"Given","index":23,"text":"url baseUrl + '\/pet\/' + petId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":92,"prefix":"When","index":24,"text":"method get"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":93,"prefix":"Then","index":25,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":94,"prefix":"And","index":26,"text":"match updatedPetId == petId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":95,"prefix":"And","index":27,"text":"match response.name == \"cat\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":96,"prefix":"And","index":28,"text":"match response.status == \"sold\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":97,"prefix":"*","index":29,"text":"print 'Pet sold by ID:', response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# 4. Find pets by status \"sold\" and verify the updated pet is present"],"line":101,"prefix":"Given","index":30,"text":"url baseUrl + '\/pet\/findByStatus'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":102,"prefix":"And","index":31,"text":"param status = 'sold'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":103,"prefix":"When","index":32,"text":"method get"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":104,"prefix":"Then","index":33,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":105,"prefix":"*","index":34,"text":"print 'Pets found by status \"sold\":', response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# Check if our pet is in the list of sold pets"],"line":107,"prefix":"*","index":35,"text":"def soldPetsWithOurId = karate.filter(response, function(x){ return x.id == petId })"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":108,"prefix":"*","index":36,"text":"print 'Our pet (ID ' + petId + ') in \"sold\" list (if found):', soldPetsWithOurId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":109,"prefix":"*","index":37,"text":"print 'Simplified test point before combined status search'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# Adicional: Consultar por status \"available\" y \"sold\" y verificar que el ID sigue presente"],"line":112,"prefix":"Given","index":38,"text":"url baseUrl + '\/pet\/findByStatus'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":113,"prefix":"And","index":39,"text":"params { status: ['available', 'sold'] } # Karate maneja múltiples valores para el mismo parámetro"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":114,"prefix":"When","index":40,"text":"method get"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":115,"prefix":"Then","index":41,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":116,"prefix":"*","index":42,"text":"print 'Pets found by status \"available\" & \"sold\":', response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# Verificar que nuestra mascota (ahora \"sold\") está en la lista","# Buscamos un objeto en el array de respuesta que tenga nuestro petId."],"line":119,"prefix":"*","index":43,"text":"def foundPetInCombinedList = karate.filter(response, function(x){ return x.id == petId })"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":120,"prefix":"And","index":44,"text":"assert foundPetInCombinedList.length == 1"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":121,"prefix":"And","index":45,"text":"match foundPetInCombinedList[0].status == \"sold\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":122,"prefix":"And","index":46,"text":"match foundPetInCombinedList[0].name == \"cat\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":123,"prefix":"And","index":47,"text":"match foundPetInCombinedList[0].id == petId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":124,"prefix":"*","index":48,"text":"print 'Found our pet in \"available & sold\" list:', foundPetInCombinedList[0]"}}],"line":9,"description":"","durationMillis":1355.4511,"failed":true,"error":"status code was: 404, expected: 200, response time in milliseconds: 295, url: https:\/\/petstore.swagger.io\/v2\/pet\/688215, response: \n{\"code\":1,\"type\":\"error\",\"message\":\"Pet not found\"}\nsrc\/test\/java\/karateTest.feature:47","executorName":"main","name":"Add a new pet, get it, update it, and find by status","startTime":1750975688074,"refId":"[1:9]","endTime":1750975689443,"exampleIndex":-1}],"callDepth":0,"name":"PetStore API tests","description":"","resultDate":"2025-06-26 05:08:09 p. m.","durationMillis":1355.4511,"passedCount":0}