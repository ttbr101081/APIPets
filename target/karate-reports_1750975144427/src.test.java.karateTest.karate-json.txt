{"failedCount":1,"prefixedPath":"src\/test\/java\/karateTest.feature","packageQualifiedName":"src.test.java.karateTest","loopIndex":-1,"relativePath":"src\/test\/java\/karateTest.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":108754200,"millis":108.7542,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def baseUrl = karate.properties['baseUrl'] || 'https:\/\/petstore.swagger.io\/v2'"}},{"result":{"nanos":8994500,"millis":8.9945,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def randomId = function(){ return java.lang.System.currentTimeMillis() % 1000000 }"}},{"result":{"nanos":7652100,"millis":7.6521,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def testPetId = randomId()"}},{"result":{"nanos":4944000,"millis":4.944,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"print 'Generated Pet ID for this test run:', testPetId"},"stepLog":"16:58:16.352 [print] Generated Pet ID for this test run: 96347.0 \n"},{"result":{"nanos":5205900,"millis":5.2059,"status":"passed"},"step":{"comments":["# 1. Add a new pet to the store"],"line":11,"prefix":"Given","index":0,"text":"url baseUrl + '\/pet'"}},{"result":{"nanos":31048200,"millis":31.0482,"status":"passed"},"step":{"endLine":37,"line":12,"prefix":"And","docString":"{\n  \"name\": \"doggie\",\n  \"photoUrls\": [\n    \"cillum deserunt irure sit\",\n    \"minim consequat\"\n  ],\n  \"id\": #(testPetId),\n  \"category\": {\n    \"id\": -71766204,\n    \"name\": \"labore enim consectetur amet velit\"\n  },\n  \"tags\": [\n    {\n      \"id\": 59431783,\n      \"name\": \"nulla exercitation\"\n    },\n    {\n      \"id\": -46476026,\n      \"name\": \"est sint tempor minim nulla\"\n    }\n  ],\n  \"status\": \"available\"\n}","index":1,"text":"request"}},{"result":{"nanos":760301700,"millis":760.3017,"status":"passed"},"step":{"line":38,"prefix":"When","index":2,"text":"method post"},"stepLog":"16:58:16.588 request:\n1 > POST https:\/\/petstore.swagger.io\/v2\/pet\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 290\n1 > Host: petstore.swagger.io\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/21.0.7)\n1 > Accept-Encoding: gzip,deflate\n{\"name\":\"doggie\",\"photoUrls\":[\"cillum deserunt irure sit\",\"minim consequat\"],\"id\":96347.0,\"category\":{\"id\":-71766204,\"name\":\"labore enim consectetur amet velit\"},\"tags\":[{\"id\":59431783,\"name\":\"nulla exercitation\"},{\"id\":-46476026,\"name\":\"est sint tempor minim nulla\"}],\"status\":\"available\"}\n\n16:58:17.148 response time in milliseconds: 558\n1 < 200\n1 < Date: Thu, 26 Jun 2025 21:58:15 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Methods: GET, POST, DELETE, PUT\n1 < Access-Control-Allow-Headers: Content-Type, api_key, Authorization\n1 < Server: Jetty(9.2.9.v20150224)\n{\"id\":96347,\"category\":{\"id\":-71766204,\"name\":\"labore enim consectetur amet velit\"},\"name\":\"doggie\",\"photoUrls\":[\"cillum deserunt irure sit\",\"minim consequat\"],\"tags\":[{\"id\":59431783,\"name\":\"nulla exercitation\"},{\"id\":-46476026,\"name\":\"est sint tempor minim nulla\"}],\"status\":\"available\"}\n\n"},{"result":{"nanos":3118500,"millis":3.1185,"status":"passed"},"step":{"line":39,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":1560400,"millis":1.5604,"status":"passed"},"step":{"line":40,"prefix":"*","index":4,"text":"def petId = response.id \/\/ Se toma el ID de la respuesta"}},{"result":{"nanos":2111600,"millis":2.1116,"status":"passed"},"step":{"line":41,"prefix":"*","index":5,"text":"karate.pause(3000) \/\/ Pausa de 3 segundos para dar tiempo a la API"}},{"result":{"nanos":925900,"millis":0.9259,"status":"passed"},"step":{"line":42,"prefix":"*","index":6,"text":"print 'Pet created with ID:', petId"},"stepLog":"16:58:17.158 [print] Pet created with ID: 96347 \n"},{"result":{"nanos":111600,"millis":0.1116,"status":"passed"},"step":{"line":43,"prefix":"*","index":7,"text":"karate.pause(3000) \/\/ Pausa de 3 segundos para dar tiempo a la API"}},{"result":{"nanos":1515500,"millis":1.5155,"status":"passed"},"step":{"comments":["# 2. Get the pet by ID"],"line":46,"prefix":"Given","index":8,"text":"url baseUrl + '\/pet\/' + petId"}},{"result":{"nanos":304007100,"millis":304.0071,"status":"passed"},"step":{"line":47,"prefix":"When","index":9,"text":"method get"},"stepLog":"16:58:17.160 request:\n2 > GET https:\/\/petstore.swagger.io\/v2\/pet\/96347\n2 > Host: petstore.swagger.io\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/21.0.7)\n2 > Accept-Encoding: gzip,deflate\n\n\n16:58:17.461 response time in milliseconds: 301\n2 < 404\n2 < Date: Thu, 26 Jun 2025 21:58:15 GMT\n2 < Content-Type: application\/json\n2 < Transfer-Encoding: chunked\n2 < Connection: keep-alive\n2 < Access-Control-Allow-Origin: *\n2 < Access-Control-Allow-Methods: GET, POST, DELETE, PUT\n2 < Access-Control-Allow-Headers: Content-Type, api_key, Authorization\n2 < Server: Jetty(9.2.9.v20150224)\n{\"code\":1,\"type\":\"error\",\"message\":\"Pet not found\"}\n\n"},{"result":{"nanos":58000,"errorMessage":"status code was: 404, expected: 200, response time in milliseconds: 301, url: https:\/\/petstore.swagger.io\/v2\/pet\/96347, response: \n{\"code\":1,\"type\":\"error\",\"message\":\"Pet not found\"}\nsrc\/test\/java\/karateTest.feature:48","millis":0.058,"status":"failed"},"step":{"line":48,"prefix":"Then","index":10,"text":"status 200"},"stepLog":"16:58:17.464 src\/test\/java\/karateTest.feature:48\nThen status 200\nstatus code was: 404, expected: 200, response time in milliseconds: 301, url: https:\/\/petstore.swagger.io\/v2\/pet\/96347, response: \n{\"code\":1,\"type\":\"error\",\"message\":\"Pet not found\"}\nsrc\/test\/java\/karateTest.feature:48\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":11,"text":"match response.id == petId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":12,"text":"match response.name == \"doggie\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"*","index":13,"text":"print 'Pet retrieved by ID:', response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# 3. Update the pet's name and status"],"line":54,"prefix":"Given","index":14,"text":"url baseUrl + '\/pet'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"endLine":81,"line":55,"prefix":"And","docString":"{\n\"id\": #(petId),\n  \"name\": \"cat\",\n  \"photoUrls\": [\n    \"cillum deserunt irure sit\",\n    \"minim consequat\"\n  ],\n  \"category\": {\n    \"id\": -71766204,\n    \"name\": \"labore enim consectetur amet velit\"\n  },\n  \"tags\": [\n    {\n      \"id\": 59431783,\n      \"name\": \"nulla exercitation\"\n    },\n    {\n      \"id\": -46476026,\n      \"name\": \"est sint tempor minim nulla\"\n    }\n  ],\n  \"status\": \"sold\"\n}","index":15,"text":"request"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":82,"prefix":"When","index":16,"text":"method put"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":83,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":84,"prefix":"*","index":18,"text":"def updatedPetId = response.id"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":85,"prefix":"And","index":19,"text":"match updatedPetId == petId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":86,"prefix":"And","index":20,"text":"match response.name == \"cat\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":87,"prefix":"And","index":21,"text":"match response.status == \"sold\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":88,"prefix":"*","index":22,"text":"print 'Pet updated:', response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":89,"prefix":"*","index":23,"text":"karate.pause(5000) \/\/ Increased pause after PUT and before findByStatus"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# 4. Find pets by status \"sold\" and verify the updated pet is present"],"line":92,"prefix":"Given","index":24,"text":"url baseUrl + '\/pet\/findByStatus'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":93,"prefix":"And","index":25,"text":"param status = 'sold'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":94,"prefix":"When","index":26,"text":"method get"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":95,"prefix":"Then","index":27,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":96,"prefix":"*","index":28,"text":"print 'Pets found by status \"sold\":', response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# Check if our pet is in the list of sold pets"],"line":98,"prefix":"*","index":29,"text":"def soldPetsWithOurId = karate.filter(response, function(x){ return x.id == petId })"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":99,"prefix":"*","index":30,"text":"print 'Our pet (ID ' + petId + ') in \"sold\" list (if found):', soldPetsWithOurId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":100,"prefix":"*","index":31,"text":"print 'Simplified test point before combined status search'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# Adicional: Consultar por status \"available\" y \"sold\" y verificar que el ID sigue presente"],"line":103,"prefix":"Given","index":32,"text":"url baseUrl + '\/pet\/findByStatus'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":104,"prefix":"And","index":33,"text":"params { status: ['available', 'sold'] } # Karate maneja múltiples valores para el mismo parámetro"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":105,"prefix":"When","index":34,"text":"method get"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":106,"prefix":"Then","index":35,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":107,"prefix":"*","index":36,"text":"print 'Pets found by status \"available\" & \"sold\":', response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# Verificar que nuestra mascota (ahora \"sold\") está en la lista","# Buscamos un objeto en el array de respuesta que tenga nuestro petId."],"line":110,"prefix":"*","index":37,"text":"def foundPetInCombinedList = karate.filter(response, function(x){ return x.id == petId })"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":111,"prefix":"And","index":38,"text":"assert foundPetInCombinedList.length == 1"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":112,"prefix":"And","index":39,"text":"match foundPetInCombinedList[0].status == \"sold\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":113,"prefix":"And","index":40,"text":"match foundPetInCombinedList[0].name == \"cat\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":114,"prefix":"And","index":41,"text":"match foundPetInCombinedList[0].id == petId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":115,"prefix":"*","index":42,"text":"print 'Found our pet in \"available & sold\" list:', foundPetInCombinedList[0]"}}],"line":9,"description":"","durationMillis":1240.3092,"failed":true,"error":"status code was: 404, expected: 200, response time in milliseconds: 301, url: https:\/\/petstore.swagger.io\/v2\/pet\/96347, response: \n{\"code\":1,\"type\":\"error\",\"message\":\"Pet not found\"}\nsrc\/test\/java\/karateTest.feature:48","executorName":"main","name":"Add a new pet, get it, update it, and find by status","startTime":1750975096209,"refId":"[1:9]","endTime":1750975097464,"exampleIndex":-1}],"callDepth":0,"name":"PetStore API tests","description":"","resultDate":"2025-06-26 04:58:17 p. m.","durationMillis":1240.3092,"passedCount":0}